[gd_scene load_steps=11 format=4 uid="uid://dd3s4nq4pwmvf"]

[ext_resource type="Script" uid="uid://bft50ergnbc1y" path="res://scripts/GlobalState.cs" id="1_skkvx"]
[ext_resource type="PackedScene" uid="uid://b0srvjfcxmhgp" path="res://scenes/ZonePoint.tscn" id="3_47hci"]
[ext_resource type="TileSet" uid="uid://bjl8ooe7tgy8o" path="res://gamedata/tilemap/Shop32x32.tres" id="4_47hci"]
[ext_resource type="PackedScene" uid="uid://crm01wmd8iytl" path="res://scenes/CraftingTable.tscn" id="5_hd80v"]
[ext_resource type="PackedScene" uid="uid://uti1acrmf4mg" path="res://scenes/Player.tscn" id="6_abjrc"]
[ext_resource type="PackedScene" uid="uid://b6tq2ydjfhwgo" path="res://scenes/ShopStartChair.tscn" id="6_j4pho"]
[ext_resource type="PackedScene" uid="uid://cwcmiy8lxu53n" path="res://scenes/Cauldron.tscn" id="7_eo1la"]
[ext_resource type="Script" uid="uid://d3m6sgicj2cul" path="res://scripts/Item/Core/Inventory.cs" id="7_jccym"]
[ext_resource type="PackedScene" uid="uid://dbgtrq6dsnbid" path="res://scenes/Npc.tscn" id="9_a6yfk"]
[ext_resource type="PackedScene" uid="uid://ck5f6f0halm2g" path="res://scenes/UI/UICanvas.tscn" id="10_pfjd0"]

[node name="Shop" type="Node"]
script = ExtResource("1_skkvx")

[node name="Map" type="Node2D" parent="."]
scale = Vector2(2, 2)

[node name="FloorWall" type="TileMapLayer" parent="Map"]
position = Vector2(-0.5, 0.5)
tile_map_data = PackedByteArray("AAACAAUAAAABAAIAAAACAAYAAAABAAMAAAADAAUAAAABAAIAAAADAAYAAAABAAMAAAAEAAUAAAABAAIAAAAEAAYAAAABAAMAAAAFAAUAAAABAAIAAAAFAAYAAAABAAMAAAAGAAUAAAABAAIAAAAGAAYAAAABAAMAAAAHAAUAAAABAAIAAAAHAAYAAAABAAMAAAAIAAUAAAABAAIAAAAIAAYAAAABAAMAAAAJAAUAAAABAAIAAAAJAAYAAAABAAMAAAAKAAUAAAABAAIAAAAKAAYAAAABAAMAAAALAAYAAAABAAMAAAALAAUAAAABAAIAAAAMAAMAAAABAAIAAAAMAAQAAAABAAMAAAANAAMAAAABAAIAAAANAAQAAAABAAMAAAAOAAMAAAABAAIAAAAOAAQAAAABAAMAAAAPAAMAAAABAAIAAAAPAAQAAAABAAMAAAAQAAMAAAABAAIAAAAQAAQAAAABAAMAAAARAAMAAAABAAIAAAARAAQAAAABAAMAAAASAAMAAAABAAIAAAASAAQAAAABAAMAAAATAAMAAAABAAIAAAATAAQAAAABAAMAAAAUAAcAAAACAAIAAAAUAAgAAAACAAMAAAAVAAcAAAACAAIAAAAVAAgAAAACAAMAAAAWAAcAAAACAAIAAAAWAAgAAAACAAMAAAAXAAcAAAACAAIAAAAXAAgAAAACAAMAAAAYAAcAAAACAAIAAAAYAAgAAAACAAMAAAAZAAcAAAACAAIAAAAZAAgAAAACAAMAAAAaAAcAAAACAAIAAAAaAAgAAAACAAMAAAAbAAcAAAACAAIAAAAbAAgAAAACAAMAAAAMAAUAAAAAAAYAAAAMAAYAAAAAAAYAAAAMAAcAAAAAAAYAAAAMAAgAAAABAAYAAAAMAAkAAAAAAAYAAAAMAAoAAAAAAAYAAAAMAAsAAAAAAAYAAAAMAAwAAAAAAAYAAAANAAUAAAAAAAYAAAANAAYAAAAAAAYAAAANAAcAAAAAAAYAAAANAAgAAAAAAAYAAAANAAkAAAAAAAYAAAANAAoAAAAAAAYAAAANAAsAAAAAAAYAAAANAAwAAAAAAAYAAAAOAAUAAAAAAAYAAAAOAAYAAAAAAAYAAAAOAAcAAAAAAAYAAAAOAAgAAAAAAAYAAAAOAAkAAAAAAAYAAAAOAAoAAAAAAAYAAAAOAAsAAAAAAAYAAAAOAAwAAAAAAAYAAAAPAAUAAAAAAAYAAAAPAAYAAAAAAAYAAAAPAAcAAAAAAAYAAAAPAAgAAAAAAAYAAAAPAAkAAAAAAAYAAAAPAAoAAAAAAAYAAAAPAAsAAAAAAAYAAAAPAAwAAAAAAAYAAAAQAAUAAAAAAAYAAAAQAAYAAAAAAAYAAAAQAAcAAAAAAAYAAAAQAAgAAAAAAAYAAAAQAAkAAAAAAAYAAAAQAAoAAAAAAAYAAAAQAAsAAAAAAAYAAAAQAAwAAAAAAAYAAAARAAUAAAAAAAYAAAARAAYAAAAAAAYAAAARAAcAAAABAAYAAAARAAgAAAAAAAYAAAARAAkAAAAAAAYAAAARAAoAAAAAAAYAAAARAAsAAAABAAYAAAARAAwAAAAAAAYAAAASAAUAAAAAAAYAAAASAAYAAAAAAAYAAAASAAcAAAAAAAYAAAASAAgAAAAAAAYAAAASAAkAAAAAAAYAAAASAAoAAAAAAAYAAAASAAsAAAAAAAYAAAASAAwAAAAAAAYAAAATAAUAAAAAAAYAAAATAAYAAAAAAAYAAAATAAcAAAAAAAYAAAATAAgAAAAAAAYAAAATAAkAAAAAAAYAAAATAAoAAAAAAAYAAAATAAsAAAAAAAYAAAATAAwAAAAAAAYAAAAUAAkAAAAAAAYAAAAUAAoAAAAAAAYAAAAUAAsAAAAAAAYAAAAUAAwAAAAAAAYAAAAVAAkAAAAAAAYAAAAVAAoAAAAAAAYAAAAVAAsAAAAAAAYAAAAVAAwAAAAAAAYAAAAWAAkAAAAAAAYAAAAWAAoAAAAAAAYAAAAWAAsAAAAAAAYAAAAWAAwAAAAAAAYAAAAXAAkAAAAAAAYAAAAXAAoAAAAAAAYAAAAXAAsAAAAAAAYAAAAXAAwAAAAAAAYAAAAYAAkAAAAAAAYAAAAYAAoAAAAAAAYAAAAYAAsAAAAAAAYAAAAYAAwAAAAAAAYAAAAZAAkAAAAAAAYAAAAZAAoAAAAAAAYAAAAZAAsAAAABAAYAAAAZAAwAAAAAAAYAAAAaAAkAAAAAAAYAAAAaAAoAAAABAAYAAAAaAAsAAAAAAAYAAAAaAAwAAAAAAAYAAAAbAAkAAAAAAAYAAAAbAAoAAAAAAAYAAAAbAAsAAAAAAAYAAAAbAAwAAAAAAAYAAAACAAcAAAAAAAYAAAACAAgAAAAAAAYAAAACAAkAAAAAAAYAAAACAAoAAAAAAAYAAAACAAsAAAAAAAYAAAACAAwAAAAAAAYAAAADAAcAAAAAAAYAAAADAAgAAAAAAAYAAAADAAkAAAAAAAYAAAADAAoAAAAAAAYAAAADAAsAAAAAAAYAAAADAAwAAAAAAAYAAAAEAAcAAAAAAAYAAAAEAAgAAAAAAAYAAAAEAAkAAAAAAAYAAAAEAAoAAAAAAAYAAAAEAAsAAAAAAAYAAAAEAAwAAAAAAAYAAAAFAAcAAAAAAAYAAAAFAAgAAAAAAAYAAAAFAAkAAAAAAAYAAAAFAAoAAAAAAAYAAAAFAAsAAAABAAYAAAAFAAwAAAAAAAYAAAAGAAcAAAAAAAYAAAAGAAgAAAAAAAYAAAAGAAkAAAAAAAYAAAAGAAoAAAAAAAYAAAAGAAsAAAAAAAYAAAAGAAwAAAAAAAYAAAAHAAcAAAAAAAYAAAAHAAgAAAABAAYAAAAHAAkAAAAAAAYAAAAHAAoAAAAAAAYAAAAHAAsAAAAAAAYAAAAHAAwAAAAAAAYAAAAIAAcAAAAAAAYAAAAIAAgAAAAAAAYAAAAIAAkAAAAAAAYAAAAIAAoAAAAAAAYAAAAIAAsAAAAAAAYAAAAIAAwAAAAAAAYAAAAJAAcAAAAAAAYAAAAJAAgAAAAAAAYAAAAJAAkAAAAAAAYAAAAJAAoAAAAAAAYAAAAJAAsAAAAAAAYAAAAJAAwAAAAAAAYAAAAKAAcAAAAAAAYAAAAKAAgAAAAAAAYAAAAKAAkAAAAAAAYAAAAKAAoAAAAAAAYAAAAKAAsAAAAAAAYAAAAKAAwAAAAAAAYAAAALAAcAAAAAAAYAAAALAAgAAAAAAAYAAAALAAkAAAAAAAYAAAALAAoAAAAAAAYAAAALAAsAAAABAAYAAAALAAwAAAAAAAYAAAAMAA0AAAAAAAYAAAANAA0AAAAAAAYAAAA=")
tile_set = ExtResource("4_47hci")

[node name="Carpet" type="TileMapLayer" parent="Map"]
tile_map_data = PackedByteArray("AAAEAAkAAAAQAAMAAAAEAAoAAAAQAAQAAAAEAAsAAAAQAAUAAAAFAAkAAAARAAMAAAAFAAoAAAARAAQAAAAFAAsAAAARAAUAAAAGAAkAAAARAAMAAAAGAAoAAAARAAQAAAAGAAsAAAARAAUAAAAHAAkAAAARAAMAAAAHAAoAAAARAAQAAAAHAAsAAAARAAUAAAAIAAkAAAARAAMAAAAIAAoAAAARAAQAAAAIAAsAAAARAAUAAAAJAAkAAAASAAMAAAAJAAoAAAASAAQAAAAJAAsAAAASAAUAAAAYAAsAAAAQAAYAAAAYAAwAAAAQAAcAAAAYAA0AAAAQAAgAAAAZAAsAAAARAAYAAAAZAAwAAAARAAcAAAAZAA0AAAARAAgAAAAaAAsAAAASAAYAAAAaAAwAAAASAAcAAAAaAA0AAAASAAgAAAAMAA0AAAAEAAMAAAANAA0AAAAFAAMAAAA=")
tile_set = ExtResource("4_47hci")

[node name="WallBorder" type="TileMapLayer" parent="Map"]
tile_map_data = PackedByteArray("AAACAAQAAAACAAsAAAADAAQAAAACAAsAAAAEAAQAAAACAAsAAAAFAAQAAAACAAsAAAAGAAQAAAACAAsAAAAHAAQAAAACAAsAAAAIAAQAAAACAAsAAAAJAAQAAAACAAsAAAAKAAQAAAACAAsAAAALAAQAAAABAAwAAAALAAMAAAAAAA0AAAALAAUAAAADAAQAAAALAAYAAAADAAUAAAAMAAIAAAACAAsAAAANAAIAAAACAAsAAAAOAAIAAAACAAsAAAAPAAIAAAACAAsAAAAQAAIAAAACAAsAAAARAAIAAAACAAsAAAASAAIAAAACAAsAAAATAAIAAAACAAsAAAALAAIAAAABAAsAAAABAAUAAAAAAA0AAAABAAYAAAAAAA0AAAABAAcAAAAAAA0AAAABAAgAAAAAAA0AAAABAAkAAAAAAA0AAAABAAoAAAAAAA0AAAABAAsAAAAAAA0AAAABAAwAAAAAAA0AAAABAAQAAAABAAsAAAACAA0AAAACAA8AAAADAA0AAAACAA8AAAAEAA0AAAACAA8AAAAFAA0AAAACAA8AAAAGAA0AAAACAA8AAAAHAA0AAAACAA8AAAAIAA0AAAACAA8AAAAJAA0AAAACAA8AAAAKAA0AAAACAA8AAAALAA0AAAABAA4AAAAOAA0AAAADAA4AAAAPAA0AAAACAA8AAAAQAA0AAAACAA8AAAARAA0AAAACAA8AAAASAA0AAAACAA8AAAATAA0AAAACAA8AAAAUAA0AAAACAA8AAAAVAA0AAAACAA8AAAAWAA0AAAACAA8AAAAXAA0AAAACAA8AAAAYAA0AAAACAA8AAAAZAA0AAAACAA8AAAAaAA0AAAACAA8AAAAbAA0AAAACAA8AAAAcAAcAAAAEAA0AAAAcAAgAAAAEAA0AAAAcAAkAAAAEAA0AAAAcAAoAAAAEAA0AAAAcAAsAAAAEAA0AAAAcAAwAAAAEAA0AAAAUAAYAAAADAAwAAAAVAAYAAAACAAsAAAAWAAYAAAACAAsAAAAXAAYAAAACAAsAAAAYAAYAAAACAAsAAAAZAAYAAAACAAsAAAAaAAYAAAACAAsAAAAbAAYAAAACAAsAAAAUAAMAAAAEAA0AAAAUAAQAAAAEAA0AAAAUAAUAAAAEAA0AAAAcAAYAAAAEAAwAAAAUAAIAAAAEAAwAAAAcAA0AAAAEAA4AAAABAA0AAAAAAA4AAAAUAAcAAAABAAQAAAAUAAgAAAABAAUAAAAMAA4AAAACAA8AAAANAA4AAAACAA8AAAAOAA4AAAADAA8AAAALAA4AAAABAA8AAAACAAYAAAAdAAAAAAACAAcAAAAdAAEAAAACAAgAAAAdAAIAAAADAAYAAAAeAAAAAAADAAcAAAAeAAEAAAADAAgAAAAeAAIAAAAEAAYAAAAfAAAAAAAEAAcAAAAfAAEAAAAEAAgAAAAfAAIAAAATAAUAAAAYAAAAAAA=")
tile_set = ExtResource("4_47hci")

[node name="Objects" type="TileMapLayer" parent="Map"]
tile_map_data = PackedByteArray("AAAIAAoAAAAMAAQAAAAIAAsAAAAMAAUAAAAIAAwAAAAMAAYAAAAJAAoAAAANAAQAAAAJAAsAAAANAAUAAAAJAAwAAAANAAYAAAAKAAoAAAAOAAQAAAAKAAsAAAAOAAUAAAAKAAwAAAAOAAYAAAADAAgAAAAMAAQAAAADAAkAAAAMAAUAAAADAAoAAAAMAAYAAAAEAAgAAAANAAQAAAAEAAkAAAANAAUAAAAEAAoAAAANAAYAAAAFAAgAAAAOAAQAAAAFAAkAAAAOAAUAAAAFAAoAAAAOAAYAAAAYAAcAAAAbAAMAAAAYAAgAAAAbAAQAAAAYAAkAAAAbAAUAAAAZAAcAAAAcAAMAAAAZAAgAAAAcAAQAAAAZAAkAAAAcAAUAAAAaAAcAAAAdAAMAAAAaAAgAAAAdAAQAAAAaAAkAAAAdAAUAAAAaAAsAAAANAAwAAAAaAAwAAAANAA0AAAAbAAsAAAAUAAIAAAAbAAwAAAAUAAIAAAAbAAcAAAANAAoAAAANAAMAAAAPAAoAAAAMAAMAAAAPAAoAAAARAAMAAAANAAoAAAAOAAMAAAAMAAoAAAATAAgAAAAZAA8AAAASAAgAAAAaAA8AAAAPAAgAAAAZAA4AAAAOAAgAAAAZAA4AAAANAAgAAAAZAA4AAAAMAAgAAAAYAA8AAAAMAAYAAAAaAA4AAAAMAAUAAAAYAA4AAAAKAAYAAAAQAAsAAAAKAAcAAAAQAAwAAAATAAcAAAARAA4AAAATAAYAAAARAA0AAAACAAkAAAAPAAYAAAALAAsAAAAPAAgAAAAHAAsAAAAPAAYAAAAEAAsAAAAIAAcAAAADAAsAAAAIAAcAAAAVAAcAAAALAAoAAAAVAAgAAAALAAsAAAAIAAYAAAAVAAcAAAAIAAcAAAAVAAgAAAAJAAYAAAAWAAcAAAAJAAcAAAAWAAgAAAAQAAgAAAAZAA8AAAAMAAcAAAAaAA4AAAA=")
tile_set = ExtResource("4_47hci")

[node name="Tabletop" type="TileMapLayer" parent="Map/Objects"]
tile_map_data = PackedByteArray("AAAMAAcAAQALAA0AAAA=")
tile_set = ExtResource("4_47hci")

[node name="ZonePoint" parent="Map" instance=ExtResource("3_47hci")]
position = Vector2(416, 452.5)
NextScene = "res://scenes/Maps/Town.tscn"

[node name="CraftingTable" parent="Map" instance=ExtResource("5_hd80v")]
position = Vector2(443.5, 176)

[node name="Cauldron" parent="Map" instance=ExtResource("7_eo1la")]
position = Vector2(483.5, 169)
scale = Vector2(0.9, 0.9)

[node name="ShopStartChair" parent="Map" instance=ExtResource("6_j4pho")]
position = Vector2(430.5, 223)

[node name="Player" parent="." node_paths=PackedStringArray("Inventory", "UICanvas") instance=ExtResource("6_abjrc")]
position = Vector2(832, 841)
scale = Vector2(3.5, 3.5)
Inventory = NodePath("Inventory")
UICanvas = NodePath("../UICanvas")
InitialFacing = Vector2(0, -1)

[node name="Inventory" type="Node" parent="Player"]
script = ExtResource("7_jccym")
_itemNames = Array[String](["broken_sword", "health_potion", "earth_stone", "water_stone", "air_stone", "fire_stone", "dark_stone"])
metadata/_custom_type_script = "uid://d3m6sgicj2cul"

[node name="Npcs" type="Node" parent="."]

[node name="Dude" parent="Npcs" instance=ExtResource("9_a6yfk")]
position = Vector2(732, 718)
scale = Vector2(3.5, 3.5)
DialogueNode = "Start"
DesiredItemTypesOrNames = Array[String]([])

[node name="Dude2" parent="Npcs" instance=ExtResource("9_a6yfk")]
position = Vector2(225, 713)
scale = Vector2(3.5, 3.5)
DialogueNode = "Start"
DesiredItemTypesOrNames = Array[String]([])

[node name="UICanvas" parent="." instance=ExtResource("10_pfjd0")]

[connection signal="OpenInventoryRequested" from="Player" to="UICanvas" method="OpenInventory"]
[connection signal="StartDialogueAttempt" from="Npcs/Dude" to="UICanvas" method="StartDialogue"]
[connection signal="StartDialogueAttempt" from="Npcs/Dude2" to="UICanvas" method="StartDialogue"]
[connection signal="CraftingRecipeSelected" from="UICanvas" to="Map/CraftingTable" method="OnRecipeSelected"]
