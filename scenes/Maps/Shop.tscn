[gd_scene load_steps=14 format=4 uid="uid://dd3s4nq4pwmvf"]

[ext_resource type="Script" uid="uid://dd7orqksalqf3" path="res://scripts/Zoning/MapScene.cs" id="1_5q7qh"]
[ext_resource type="PackedScene" uid="uid://b0srvjfcxmhgp" path="res://scenes/Zoning/ZonePoint.tscn" id="3_47hci"]
[ext_resource type="PackedScene" uid="uid://dnpkbis33qmq2" path="res://scenes/GameObjects/Furnishings/Candle.tscn" id="3_l5adj"]
[ext_resource type="TileSet" uid="uid://bjl8ooe7tgy8o" path="res://gamedata/TileMap/Shop32x32.tres" id="4_47hci"]
[ext_resource type="PackedScene" uid="uid://dsijau3uojra5" path="res://scenes/GameObjects/Furnishings/Window.tscn" id="4_pfjd0"]
[ext_resource type="PackedScene" uid="uid://crm01wmd8iytl" path="res://scenes/GameObjects/Crafting/CombiningTable.tscn" id="5_hd80v"]
[ext_resource type="PackedScene" uid="uid://cverrquh2uiie" path="res://scenes/Zoning/SpawnPoint.tscn" id="5_l5adj"]
[ext_resource type="PackedScene" uid="uid://b6tq2ydjfhwgo" path="res://scenes/GameObjects/ShopStartChair.tscn" id="6_j4pho"]
[ext_resource type="PackedScene" uid="uid://cwcmiy8lxu53n" path="res://scenes/GameObjects/Crafting/Cauldron.tscn" id="7_eo1la"]
[ext_resource type="PackedScene" uid="uid://dmk58phke3yc6" path="res://scenes/Characters/Dude.tscn" id="10_pfjd0"]
[ext_resource type="PackedScene" uid="uid://c8jsb8ram6hi0" path="res://scenes/Characters/Ash.tscn" id="11_5q7qh"]
[ext_resource type="PackedScene" uid="uid://cto3o6cvxsxjq" path="res://scenes/Characters/Rhydian.tscn" id="12_nwy4l"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_nwy4l"]
vertices = PackedVector2Array(14, -134, 278, -134, 278, 70, 14, 70, -70, -10, -70, -126, 14, 206, -70, 206, -438, -10, -438, -126, -70, -142, 14, -142)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5), PackedInt32Array(3, 6, 7, 4), PackedInt32Array(4, 8, 9, 5), PackedInt32Array(0, 5, 10, 11)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-80, -151.99994, 24, -152, 24, 216, -80, 216.00006), PackedVector2Array(288, 80.00006, 24, 80.00006, 24, -143.99994, 288, -143.99994), PackedVector2Array(-448, -135.99994, -448, 6.1035156e-05, -80, 6.1035156e-05, -80, -135.99994)])

[node name="Shop" type="Node2D" node_paths=PackedStringArray("SpawnPoints")]
script = ExtResource("1_5q7qh")
SpawnPoints = [NodePath("Map/Zoning/SpawnPoint")]

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.88, 0.88, 0.88, 1)

[node name="Map" type="Node2D" parent="."]
scale = Vector2(2, 2)

[node name="FloorWall" type="TileMapLayer" parent="Map"]
position = Vector2(-0.5, 0.5)
tile_map_data = PackedByteArray("AAACAAUAAAABAAIAAAACAAYAAAABAAMAAAADAAUAAAABAAIAAAADAAYAAAABAAMAAAAEAAUAAAABAAIAAAAEAAYAAAABAAMAAAAFAAUAAAABAAIAAAAFAAYAAAABAAMAAAAGAAUAAAABAAIAAAAGAAYAAAABAAMAAAAHAAUAAAABAAIAAAAHAAYAAAABAAMAAAAIAAUAAAABAAIAAAAIAAYAAAABAAMAAAAJAAUAAAABAAIAAAAJAAYAAAABAAMAAAAKAAUAAAABAAIAAAAKAAYAAAABAAMAAAALAAYAAAABAAMAAAALAAUAAAABAAIAAAAMAAMAAAABAAIAAAAMAAQAAAABAAMAAAANAAMAAAABAAIAAAANAAQAAAABAAMAAAAOAAMAAAABAAIAAAAOAAQAAAABAAMAAAAPAAMAAAABAAIAAAAPAAQAAAABAAMAAAAQAAMAAAABAAIAAAAQAAQAAAABAAMAAAARAAMAAAABAAIAAAARAAQAAAABAAMAAAAMAAUAAAAAAAYAAAAMAAYAAAAAAAYAAAAMAAcAAAAAAAYAAAAMAAgAAAABAAYAAAAMAAkAAAAAAAYAAAAMAAoAAAAAAAYAAAAMAAsAAAAAAAYAAAAMAAwAAAAAAAYAAAANAAUAAAAAAAYAAAANAAYAAAAAAAYAAAANAAcAAAAAAAYAAAANAAgAAAAAAAYAAAANAAkAAAAAAAYAAAANAAoAAAAAAAYAAAANAAsAAAAAAAYAAAANAAwAAAAAAAYAAAAOAAUAAAAAAAYAAAAOAAYAAAAAAAYAAAAOAAcAAAAAAAYAAAAOAAgAAAAAAAYAAAAOAAkAAAAAAAYAAAAOAAoAAAAAAAYAAAAOAAsAAAAAAAYAAAAPAAUAAAAAAAYAAAAPAAYAAAAAAAYAAAAPAAcAAAAAAAYAAAAPAAgAAAAAAAYAAAAPAAkAAAAAAAYAAAAPAAoAAAAAAAYAAAAPAAsAAAAAAAYAAAAQAAUAAAAAAAYAAAAQAAYAAAAAAAYAAAAQAAcAAAAAAAYAAAAQAAgAAAAAAAYAAAAQAAkAAAAAAAYAAAAQAAoAAAAAAAYAAAAQAAsAAAAAAAYAAAARAAUAAAAAAAYAAAARAAYAAAAAAAYAAAARAAcAAAABAAYAAAARAAgAAAAAAAYAAAARAAkAAAAAAAYAAAARAAoAAAAAAAYAAAARAAsAAAABAAYAAAASAAYAAAACAAIAAAASAAcAAAACAAMAAAASAAgAAAAAAAYAAAASAAkAAAAAAAYAAAASAAoAAAAAAAYAAAASAAsAAAAAAAYAAAATAAYAAAACAAIAAAATAAcAAAACAAMAAAATAAgAAAAAAAYAAAATAAkAAAAAAAYAAAATAAoAAAAAAAYAAAATAAsAAAAAAAYAAAAUAAkAAAAAAAYAAAAUAAoAAAAAAAYAAAAUAAsAAAAAAAYAAAAVAAkAAAAAAAYAAAAVAAoAAAAAAAYAAAAVAAsAAAAAAAYAAAAWAAkAAAAAAAYAAAAWAAoAAAAAAAYAAAAWAAsAAAAAAAYAAAAXAAkAAAAAAAYAAAAXAAoAAAAAAAYAAAAXAAsAAAAAAAYAAAACAAcAAAAAAAYAAAACAAgAAAAAAAYAAAACAAkAAAAAAAYAAAACAAoAAAAAAAYAAAACAAsAAAAAAAYAAAACAAwAAAAAAAYAAAADAAcAAAAAAAYAAAADAAgAAAAAAAYAAAADAAkAAAAAAAYAAAADAAoAAAAAAAYAAAADAAsAAAAAAAYAAAADAAwAAAAAAAYAAAAEAAcAAAAAAAYAAAAEAAgAAAAAAAYAAAAEAAkAAAAAAAYAAAAEAAoAAAAAAAYAAAAEAAsAAAAAAAYAAAAEAAwAAAAAAAYAAAAFAAcAAAAAAAYAAAAFAAgAAAAAAAYAAAAFAAkAAAAAAAYAAAAFAAoAAAAAAAYAAAAFAAsAAAABAAYAAAAFAAwAAAAAAAYAAAAGAAcAAAAAAAYAAAAGAAgAAAAAAAYAAAAGAAkAAAAAAAYAAAAGAAoAAAAAAAYAAAAGAAsAAAAAAAYAAAAGAAwAAAAAAAYAAAAHAAcAAAAAAAYAAAAHAAgAAAABAAYAAAAHAAkAAAAAAAYAAAAHAAoAAAAAAAYAAAAHAAsAAAAAAAYAAAAHAAwAAAAAAAYAAAAIAAcAAAAAAAYAAAAIAAgAAAAAAAYAAAAIAAkAAAAAAAYAAAAIAAoAAAAAAAYAAAAIAAsAAAAAAAYAAAAIAAwAAAAAAAYAAAAJAAcAAAAAAAYAAAAJAAgAAAAAAAYAAAAJAAkAAAAAAAYAAAAJAAoAAAAAAAYAAAAJAAsAAAAAAAYAAAAJAAwAAAAAAAYAAAAKAAcAAAAAAAYAAAAKAAgAAAAAAAYAAAAKAAkAAAAAAAYAAAAKAAoAAAAAAAYAAAAKAAsAAAAAAAYAAAAKAAwAAAAAAAYAAAALAAcAAAAAAAYAAAALAAgAAAAAAAYAAAALAAkAAAAAAAYAAAALAAoAAAAAAAYAAAALAAsAAAABAAYAAAALAAwAAAAAAAYAAAAMAA0AAAAAAAYAAAANAA0AAAAAAAYAAAAUAAcAAAACAAMAAAAVAAcAAAACAAMAAAAWAAcAAAACAAMAAAAXAAcAAAACAAMAAAAUAAYAAAACAAIAAAAVAAYAAAACAAIAAAAWAAYAAAACAAIAAAAXAAYAAAACAAIAAAAUAAgAAAAAAAYAAAAVAAgAAAAAAAYAAAAWAAgAAAAAAAYAAAAXAAgAAAAAAAYAAAA=")
tile_set = ExtResource("4_47hci")

[node name="Carpet" type="TileMapLayer" parent="Map"]
tile_map_data = PackedByteArray("AAAEAAkAAAAQAAMAAAAEAAoAAAAQAAQAAAAEAAsAAAAQAAUAAAAFAAkAAAARAAMAAAAFAAoAAAARAAQAAAAFAAsAAAARAAUAAAAGAAkAAAARAAMAAAAGAAoAAAARAAQAAAAGAAsAAAARAAUAAAAHAAkAAAARAAMAAAAHAAoAAAARAAQAAAAHAAsAAAARAAUAAAAIAAkAAAARAAMAAAAIAAoAAAARAAQAAAAIAAsAAAARAAUAAAAJAAkAAAASAAMAAAAJAAoAAAASAAQAAAAJAAsAAAASAAUAAAAMAA0AAAAEAAMAAAANAA0AAAAFAAMAAAAUAAoAAAAQAAcAAAAUAAsAAAAQAAgAAAAVAAoAAAARAAcAAAAVAAsAAAARAAgAAAAWAAoAAAASAAcAAAAWAAsAAAASAAgAAAAUAAkAAAAQAAYAAAAVAAkAAAARAAYAAAAWAAkAAAASAAYAAAA=")
tile_set = ExtResource("4_47hci")

[node name="WallBorder" type="TileMapLayer" parent="Map"]
tile_map_data = PackedByteArray("AAACAAQAAAACAAsAAAADAAQAAAACAAsAAAAEAAQAAAACAAsAAAAFAAQAAAACAAsAAAAGAAQAAAACAAsAAAAHAAQAAAACAAsAAAAIAAQAAAACAAsAAAAJAAQAAAACAAsAAAAKAAQAAAACAAsAAAALAAQAAAABAAwAAAALAAMAAAAAAA0AAAALAAUAAAADAAQAAAALAAYAAAADAAUAAAAMAAIAAAACAAsAAAANAAIAAAACAAsAAAAOAAIAAAACAAsAAAAPAAIAAAACAAsAAAAQAAIAAAACAAsAAAARAAIAAAACAAsAAAASAAIAAAAEAAwAAAALAAIAAAABAAsAAAABAAUAAAAAAA0AAAABAAYAAAAAAA0AAAABAAcAAAAAAA0AAAABAAgAAAAAAA0AAAABAAkAAAAAAA0AAAABAAoAAAAAAA0AAAABAAsAAAAAAA0AAAABAAwAAAAAAA0AAAABAAQAAAABAAsAAAACAA0AAAACAA8AAAADAA0AAAACAA8AAAAEAA0AAAACAA8AAAAFAA0AAAACAA8AAAAGAA0AAAACAA8AAAAHAA0AAAACAA8AAAAIAA0AAAACAA8AAAAJAA0AAAACAA8AAAAKAA0AAAACAA8AAAALAA0AAAABAA4AAAABAA0AAAAAAA4AAAAMAA4AAAACAA8AAAANAA4AAAACAA8AAAAOAA4AAAADAA8AAAALAA4AAAABAA8AAAACAAYAAAAdAAAAAAACAAcAAAAdAAEAAAACAAgAAAAdAAIAAAADAAYAAAAeAAAAAAADAAcAAAAeAAEAAAADAAgAAAAeAAIAAAAEAAcAAAAfAAEAAAAEAAgAAAAfAAIAAAASAAUAAAADAAwAAAASAAYAAAABAAQAAAASAAcAAAABAAUAAAASAAQAAAAEAA0AAAASAAMAAAAEAA0AAAATAAUAAAACAAsAAAAUAAUAAAACAAsAAAAVAAUAAAACAAsAAAAWAAUAAAACAAsAAAAXAAUAAAACAAsAAAAYAAUAAAAEAAwAAAAYAAYAAAAEAA0AAAAYAAcAAAAEAA0AAAAYAAgAAAAEAA0AAAAYAAkAAAAEAA0AAAAYAAoAAAAEAA0AAAAYAAsAAAAEAA0AAAAYAAwAAAAEAA4AAAAOAAwAAAADAA4AAAAPAAwAAAACAA8AAAAQAAwAAAACAA8AAAARAAwAAAACAA8AAAASAAwAAAACAA8AAAATAAwAAAACAA8AAAAUAAwAAAACAA8AAAAVAAwAAAACAA8AAAAWAAwAAAACAA8AAAAXAAwAAAACAA8AAAAOAA0AAAAEAA0AAAA=")
tile_set = ExtResource("4_47hci")

[node name="Objects" type="TileMapLayer" parent="Map"]
tile_map_data = PackedByteArray("AAAIAAoAAAAMAAQAAAAIAAsAAAAMAAUAAAAIAAwAAAAMAAYAAAAJAAoAAAANAAQAAAAJAAsAAAANAAUAAAAJAAwAAAANAAYAAAAKAAoAAAAOAAQAAAAKAAsAAAAOAAUAAAAKAAwAAAAOAAYAAAADAAgAAAAMAAQAAAADAAkAAAAMAAUAAAADAAoAAAAMAAYAAAAEAAgAAAANAAQAAAAEAAkAAAANAAUAAAAEAAoAAAANAAYAAAAFAAgAAAAOAAQAAAAFAAkAAAAOAAUAAAAFAAoAAAAOAAYAAAANAAMAAAAPAAoAAAAMAAMAAAAPAAoAAAARAAMAAAANAAoAAAAOAAMAAAAMAAoAAAAMAAYAAAAaAA4AAAAMAAUAAAAYAA4AAAACAAkAAAAPAAYAAAALAAsAAAAPAAgAAAAHAAsAAAAPAAYAAAAEAAsAAAAIAAcAAAADAAsAAAAIAAcAAAAMAAcAAAAYAA8AAAANAAcAAAAZAA4AAAAOAAcAAAAZAA4AAAAPAAcAAAAZAA4AAAAQAAcAAAAZAA8AAAAWAAcAAAAdAAQAAAAWAAgAAAAdAAUAAAAXAAYAAAANAAoAAAAUAAcAAAAbAAQAAAAUAAgAAAAbAAUAAAAVAAYAAAAcAAMAAAAVAAcAAAAcAAQAAAAVAAgAAAAcAAUAAAAWAAoAAAANAA0AAAAXAAoAAAAUAAIAAAAWAAkAAAANAAwAAAAXAAkAAAAUAAIAAAASAAcAAAARAA0AAAASAAgAAAARAA4AAAAGAAYAAAAVAAcAAAAGAAcAAAAVAAgAAAAHAAYAAAAWAAcAAAAHAAcAAAAWAAgAAAAIAAYAAAAQAAsAAAAIAAcAAAAQAAwAAAALAAUAAAALAAoAAAALAAYAAAALAAsAAAA=")
tile_set = ExtResource("4_47hci")

[node name="Tabletop" type="TileMapLayer" parent="Map/Objects"]
tile_map_data = PackedByteArray("AAAMAAUAAQALAA0AAAA=")
tile_set = ExtResource("4_47hci")

[node name="Candle" parent="Map/Objects/Tabletop" instance=ExtResource("3_l5adj")]
position = Vector2(398.5, 206)

[node name="Candle2" parent="Map/Objects/Tabletop" instance=ExtResource("3_l5adj")]
position = Vector2(142.5, 295.5)

[node name="Candle3" parent="Map/Objects/Tabletop" instance=ExtResource("3_l5adj")]
position = Vector2(301, 359.5)

[node name="Window" parent="Map/Objects" instance=ExtResource("4_pfjd0")]
position = Vector2(311, 192)

[node name="Window2" parent="Map/Objects" instance=ExtResource("4_pfjd0")]
position = Vector2(164.5, 192)

[node name="Window3" parent="Map/Objects" instance=ExtResource("4_pfjd0")]
position = Vector2(626.5, 222.5)

[node name="CraftingTable" parent="Map" instance=ExtResource("5_hd80v")]
position = Vector2(493, 173)

[node name="Cauldron" parent="Map" instance=ExtResource("7_eo1la")]
position = Vector2(526, 166)
scale = Vector2(0.9, 0.9)

[node name="ShopStartChair" parent="Map" node_paths=PackedStringArray("NavigationDestination") instance=ExtResource("6_j4pho")]
position = Vector2(416, 190)
NavigationDestination = NodePath("NavigationDestination")

[node name="NavigationDestination" type="Node2D" parent="Map/ShopStartChair"]
position = Vector2(16, 74)
scale = Vector2(0.5, 0.5)

[node name="Zoning" type="Node2D" parent="Map"]

[node name="ZonePoint" parent="Map/Zoning" instance=ExtResource("3_47hci")]
position = Vector2(416, 453)
scale = Vector2(4, 1)
NextScenePath = "res://scenes/Maps/Town.tscn"
DestinationSpawnId = "shop"

[node name="SpawnPoint" parent="Map/Zoning" instance=ExtResource("5_l5adj")]
position = Vector2(416, 432)
SpawnId = "main-door"

[node name="Navigation" type="Node2D" parent="Map"]
position = Vector2(3.0517578e-05, 0)
scale = Vector2(0.49999997, 0.49999997)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="Map/Navigation"]
position = Vector2(856, 672)
navigation_polygon = SubResource("NavigationPolygon_nwy4l")

[node name="Npcs" type="Node2D" parent="."]

[node name="Dude" parent="Npcs" instance=ExtResource("10_pfjd0")]
position = Vector2(864, 792)
scale = Vector2(3.5, 3.5)

[node name="Rhydian" parent="Npcs" instance=ExtResource("12_nwy4l")]
position = Vector2(1310, 546)
scale = Vector2(2, 2)

[node name="Ash" parent="Npcs" instance=ExtResource("11_5q7qh")]
position = Vector2(287, 723)
scale = Vector2(2, 2)

[connection signal="ShopStart" from="Map/ShopStartChair" to="Npcs/Dude" method="SetMovementTarget"]
[connection signal="MapChange" from="Map/Zoning/ZonePoint" to="." method="OnZonePointEntered"]
